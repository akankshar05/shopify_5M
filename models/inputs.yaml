inputs:
  - name: rsIdentifies
    app_defaults:
      table: RUDDERSTACK_TEST_DB.SHOPIFY_SIMULATED_DATA.TEST_IDENTIFIES_5M
    occurred_at_col: timestamp
    ids:
      - select: "user_id"
        type: user_id
        entity: user
        to_default_stitcher: true
      - select: "anonymous_id"
        type: anonymous_id
        entity: user
        to_default_stitcher: true
      - select: "lower(email)"
        type: email
        entity: user
        to_default_stitcher: true
    source_metadata:
      role: shopify
      category: webhook
  - name: rsTracks
    app_defaults:
      table: RUDDERSTACK_TEST_DB.SHOPIFY_SIMULATED_DATA.TEST_TRACKS_5M
    occurred_at_col: timestamp
    ids:
      - select: "user_id"
        type: user_id
        entity: user
        to_default_stitcher: true
      - select: "anonymous_id"
        type: anonymous_id
        entity: user
        to_default_stitcher: true
    source_metadata:
      role: shopify
      category: webhook
  - name: rsPages
    app_defaults:
      table: RUDDERSTACK_TEST_DB.SHOPIFY_SIMULATED_DATA.TEST_PAGES_5M
    occurred_at_col: timestamp
    ids:
      - select: "user_id"
        type: user_id
        entity: user
        to_default_stitcher: true
      - select: "anonymous_id"
        type: anonymous_id
        entity: user
        to_default_stitcher: true
      - select: "concat(coalesce(anonymous_id, 'null'), coalesce(to_char(context_session_id), 'null'))"
        type: session_id
        entity: user
        to_default_stitcher: true
      - select: "concat(coalesce(anonymous_id, 'null'), coalesce(to_char(context_session_id), 'null'))"
        type: session_id
        entity: session
        to_default_stitcher: true
    source_metadata:
      role: shopify
      category: webhook
  - name: rsOrderCreated
    app_defaults:
      table: RUDDERSTACK_TEST_DB.SHOPIFY_SIMULATED_DATA.TEST_ORDER_CREATED_5M
    occurred_at_col: timestamp
    ids:
      - select: "user_id"
        type: user_id
        entity: user
        to_default_stitcher: true
      - select: "anonymous_id"
        type: anonymous_id
        entity: user
        to_default_stitcher: true
    source_metadata:
      role: shopify
      category: webhook
  - name: rsOrderCancelled
    app_defaults:
      table: RUDDERSTACK_TEST_DB.SHOPIFY_SIMULATED_DATA.TEST_ORDER_CANCELLED_5M
    occurred_at_col: timestamp
    ids:
      - select: "user_id"
        type: user_id
        entity: user
        to_default_stitcher: true
      - select: "anonymous_id"
        type: anonymous_id
        entity: user
        to_default_stitcher: true
    source_metadata:
      role: shopify
      category: webhook
  - name: rsCartUpdate
    app_defaults:
      table: RUDDERSTACK_TEST_DB.SHOPIFY_SIMULATED_DATA.TEST_CART_UPDATE_5M
    occurred_at_col: timestamp
    ids:
      - select: "anonymous_id"
        type: anonymous_id
        entity: user
        to_default_stitcher: true
    source_metadata:
      role: shopify
      category: webhook
  - name: rsOrderUpdated
    app_defaults:
      table: RUDDERSTACK_TEST_DB.SHOPIFY_SIMULATED_DATA.TEST_ORDER_UPDATED_5M
    occurred_at_col: timestamp
    ids:
      - select: "user_id"
        type: user_id
        entity: user
        to_default_stitcher: true
      - select: "anonymous_id"
        type: anonymous_id
        entity: user
        to_default_stitcher: true
    source_metadata:
      role: shopify
      category: webhook
